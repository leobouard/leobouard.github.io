<script>
  function filterArticlesByTag(tag) {
    /* Clear the filter if the tag is already selected */
    if (window.location.hash === `#${tag}`) {
        clearfilterArticlesByTag();
        return;
    }

    /* Clear the filter if another tag is selected */
    clearfilterArticlesByTag();

    /* Filter the articles by tag */
    document.querySelectorAll('article').forEach(article => {
      const tags = article.querySelector('.article-tags');
      if (!tags || !tags.textContent.includes(tag)) {
        article.style.display = 'none';
      }
    });
    highlightLinkByTag(tag);
  }

  function clearfilterArticlesByTag() {
    document.querySelectorAll('article').forEach(article => {
      article.style.display = '';
    });
  }

  function highlightLinkByTag(tag) {
    document.querySelectorAll('a').forEach(link => {
      if (link.hash === `#${tag}`) {
        link.classList.add('selected');
      }
    });
  }
</script>