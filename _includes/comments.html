<script src="https://giscus.app/client.js" data-repo="leobouard/leobouard.github.io" data-repo-id="R_kgDOG3EnHg"
  data-category="General" data-category-id="DIC_kwDOG3EnHs4CoBVU" data-mapping="pathname" data-strict="0"
  data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="noborder_light"
  data-lang="fr" crossorigin="anonymous" async>
  </script>

<script>
  function changeGiscusTheme() {
    // Utilise la classe du <html> pour détecter le thème
    const isDark = document.getElementById('html')?.className === 'dark';
    const theme = isDark ? 'noborder_dark' : 'noborder_light';

    function sendMessage(message) {
      const iframe = document.querySelector('iframe.giscus-frame');
      if (!iframe) return;
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
    }

    sendMessage({
      setConfig: {
        theme: theme
      }
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    changeGiscusTheme();
  });
</script>

<section class="comments">
  <div class="giscus"></div>
</section>